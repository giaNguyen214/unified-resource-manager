job_id: demo1
job_type: bigdata # ai | hpc | bigdata
resources:
  cpu: 4
  ram: 8Gi
entrypoint: main.py

install:
  # ================= type: os_pkg =================
  - type: os_pkg
    manager: apt
    packages:
      - openmpi-bin
      - libssl-dev
      - build-essential
      - cmake
      - git
      - wget
      - curl

  # ================= type: container =================
  - type: container
    image: mpioperator/openmpi:v0.6.0
    kind: Job

  - type: container
    image: spark:3.5.7
    kind: Deployment

  - type: container
    image: flink:1.20.3-scala_2.12-java17
    kind: Deployment

  - type: container
    image: apache/kafka:4.1.1
    kind: StatefulSet

  - type: container
    image: tensorflow/tensorflow:2.15.0-gpu
    kind: Job

  - type: container
    image: pytorch/pytorch:2.1.0-cuda11.8-cudnn8-runtime
    kind: Job

  # ================= type: language package =================
  - type: lang_pkg
    lang: python
    manager: pip
    packages:
      - tensorflow
      - torch
      - xgboost
      - scikit-learn
      - ray
      - dask
